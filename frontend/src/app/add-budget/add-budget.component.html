<div class="add-budget-container" [formGroup]="formGroup">
    <h1>Add budget</h1>
    <div class="add-budget-form">
        <mat-form-field>
            <input matInput type="text" [formControlName]="'name'" placeholder="Budget name">
            <mat-hint align="end">Insert budget name</mat-hint>
        </mat-form-field>

        <mat-form-field>
            <input matInput type="date" [formControlName]="'startDate'" placeholder="Start date">
            <mat-hint align="end">Insert start date</mat-hint>
        </mat-form-field>

        <mat-form-field>
            <input matInput type="date" [formControlName]="'endDate'" placeholder="End date">
            <mat-hint align="end">Insert start date</mat-hint>
        </mat-form-field>

        <div class="budget-category-input-container">
            <ng-container
                formArrayName="categories"
                *ngFor="let category of formGroup.get('categories').controls; let i = index;">
                <div [formGroupName]="i" class="budget-category-inputs">
                    <mat-form-field>
                        <input matInput type="text" [formControlName]="'name'" placeholder="Budget category name">
                        <mat-hint align="end">Insert budget category name</mat-hint>
                    </mat-form-field>
                    <mat-form-field>
                        <input matInput type="number" [formControlName]="'declaredAmount'" placeholder="Budget category declared amount">
                        <mat-hint align="end">Insert budget category declared amount</mat-hint>
                    </mat-form-field>
                </div>
            </ng-container>
        </div>
        <button mat-icon-button (click)="addCategory()">
            <mat-icon>playlist_add</mat-icon>
        </button>

        <div class="buttons">
            <button class="cancel-btn" mat-raised-button routerLink="/dashboard">Cancel</button>
            <button class="cancel-btn" mat-raised-button color="secondary" routerLink="/manage-budgets">Manage budgets</button>
            <button class="add-btn" mat-raised-button color="primary" (click)="addBudget(formGroup.value)">Add budget</button>
        </div>
    </div>

    <mat-card *ngIf="isErrorMsgVisible && !formGroup.valid">
        <mat-card-content>
            <p style="text-align: center; color: red; font-size: 16px;">WprowadÅº wszystkie dane</p>
        </mat-card-content>
    </mat-card>
</div>
